# Programmatic Auth

We use API keys for server-to-server interaction with AI DIAL API. 

To use an API key, it is necessary to create one.

### Step 1: Define API Keys

In the `keys` section in the `aidial.config.json` file, you can add API keys. API Key should be a secure random key of at least 128 bit size.

> In [settings](https://github.com/epam/ai-dial-core?tab=readme-ov-file#dynamic-settings), you can get familiar with the description of the configuration parameters. Refer to [configuration file](https://github.com/epam/ai-dial-core/blob/development/sample/aidial.config.json#L181) to view the full example. 

In the following example, `"proxyKey1"` API key is created for a project `"Project1"` with the `"default"` role:

```json
//Example extract from aidial.config.json
"keys": {
    "proxyKey1": {
        "project": "Project1",
        "role": "default"
    }
}
```

**Important:** API keys must be associated with a project and role; otherwise a key is invalid.

### Step 2: Assign Roles

API keys must be associated with roles. Such roles are used to manage access to system resources and restrict the number of requests that can be sent to them.

> Refer to [Roles](/Roles%20and%20Access%20Control/overview) to learn more how to use roles.

Roles used by API keys must be declared in the `roles` section.

In the following example, we assign the `default` role for `projectKey1` API key. This role grants access to the `chat-gpt-35-turbo` model with unlimited number of tokens. 

> Refer to [configuration file](https://github.com/epam/ai-dial-core/blob/development/sample/aidial.config.json) to view the full example.

```Json
//Example extract from aidial.config.json
"keys": {
    "proxyKey1": {
        "project": "Project1",
        "role": "default"
    }
},
"roles": {
    "default": { //role name
        "limits": {
            "chat-gpt-35-turbo": {}
        }
    }
}
```

**Note**, that it is mandatory to define at least one role and assign it for an API key, but you can leave `limits` empty (as shown in the previous example) to apply the default value - `unlimited`.

### Step 3: (Optional) Roles, Limits and Access Control

You can use roles, to manage access of your API keys to different system resources (applications, models, assistants, addons) and define limits to restrict this access.

> Refer to [Roles and Access Control](/Roles%20and%20Access%20Control/overview) to learn how to do this.