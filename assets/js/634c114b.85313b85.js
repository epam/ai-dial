"use strict";(self.webpackChunkdial=self.webpackChunkdial||[]).push([[9841],{91358:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>a});var o=s(85893),t=s(11151);const r={},i="Roles and Access Control for JWT",c={id:"tutorials/devops/auth-and-access-control/chat-users-roles",title:"Roles and Access Control for JWT",description:"Introduction",source:"@site/docs/tutorials/2.devops/2.auth-and-access-control/2.chat-users-roles.md",sourceDirName:"tutorials/2.devops/2.auth-and-access-control",slug:"/tutorials/devops/auth-and-access-control/chat-users-roles",permalink:"/tutorials/devops/auth-and-access-control/chat-users-roles",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"CustomSideBar",previous:{title:"Roles and Access Control for API Keys",permalink:"/tutorials/devops/auth-and-access-control/api-key-roles"},next:{title:"Overview",permalink:"/tutorials/devops/auth-and-access-control/configure-idps/overview"}},l={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Step 1: Configure IDP",id:"step-1-configure-idp",level:2},{value:"Step 2: Configure DIAL Core",id:"step-2-configure-dial-core",level:2},{value:"Add Roles",id:"add-roles",level:3},{value:"Add Limits",id:"add-limits",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"roles-and-access-control-for-jwt",children:"Roles and Access Control for JWT"}),"\n",(0,o.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsxs)(n.p,{children:["You can configure DIAL to work with various identity service providers, where you can manage your users and user groups. In the ",(0,o.jsx)(n.a,{href:"https://github.com/epam/ai-dial-core?tab=readme-ov-file#dynamic-settings",children:"DIAL Core Dynamic Settings"}),", you can enable roles and configure their access to system resources."]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Refer to ",(0,o.jsx)(n.a,{href:"/platform/core/access-control-intro#about-roles",children:"About Roles"})," to learn more."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"step-1-configure-idp",children:"Step 1: Configure IDP"}),"\n",(0,o.jsx)(n.p,{children:"For DIAL Chat users, you can define user groups/roles/pools (it depends on a specific IDP) in your identity service provider (IDP) which are then passed to DIAL Core in JWT."}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Refer to ",(0,o.jsx)(n.a,{href:"/tutorials/devops/auth-and-access-control/configure-idps/overview",children:"Configure IDPs"})," to view supported IDPs and learn how to configure them."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"step-2-configure-dial-core",children:"Step 2: Configure DIAL Core"}),"\n",(0,o.jsx)(n.h3,{id:"add-roles",children:"Add Roles"}),"\n",(0,o.jsxs)(n.p,{children:["You can then utilize user roles from the JWT claims to define roles in the DIAL Core dynamic settings as a ",(0,o.jsx)(n.code,{children:"userRoles"})," parameter value. In the following example, we grant access to ",(0,o.jsx)(n.code,{children:"chat-gpt-35-turbo"})," model for users with the ",(0,o.jsx)(n.code,{children:"operator"})," user role. Using the same pattern, you can define user access to applications."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'"models": {\n    "chat-gpt-35-turbo": {\n        "userRoles": [\n            "operator"\n            ]\n        }\n}\n'})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Refer to ",(0,o.jsx)(n.a,{href:"https://github.com/epam/ai-dial-core?tab=readme-ov-file#dynamic-settings",children:"DIAL Core Dynamic Settings"})," to view the description of all the supported configuration parameters."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"IMPORTANT"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Always use roles from the JWT claims that you receive from your IDP."}),"\n",(0,o.jsx)(n.li,{children:"If a user's IDP roles aren't explicitly mentioned in the DIAL configuration, a \"default\" role is applied."}),"\n",(0,o.jsxs)(n.li,{children:['If the "default" role is not defined or has no limits set, access to the resource is ',(0,o.jsx)(n.strong,{children:"unrestricted"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"add-limits",children:"Add Limits"}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.code,{children:"roles"})," section of the DIAL Core dynamic settings, you can configure token usage and sharing limits for roles that apply to specific system resources."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Effective role rule"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["If a user has a role A and B from the IDP which are not mentioned in the ",(0,o.jsx)(n.code,{children:"roles"})," section, limits from the ",(0,o.jsx)(n.code,{children:"default"})," role apply."]}),"\n",(0,o.jsxs)(n.li,{children:["If the ",(0,o.jsx)(n.code,{children:"default"})," role is not defined in the ",(0,o.jsx)(n.code,{children:"roles"})," section or does not have limits configured for it - the ",(0,o.jsx)(n.strong,{children:"access is unlimited"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["In this example, we define the ",(0,o.jsx)(n.code,{children:"operator"})," role with ",(0,o.jsx)(n.code,{children:"limits"})," for the ",(0,o.jsx)(n.code,{children:"chat-gpt-35-turbo"})," model and sharing limits for applications and files."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'"roles": {\n    "operator": {\n        "limits": {\n            "chat-gpt-35-turbo": {\n                "minute": "200000",\n                "day": "10000000",\n                "week": "10000000",\n                "month": "10000000",\n            }\n        },\n        "share": {\n            "APPLICATION": {\n                "invitation_ttl": "24",\n                "max_accepted_users": "10"\n                },\n            "FILE": {\n                "invitation_ttl": "24",\n                "max_accepted_users": "10"\n                }\n        }\n    }\n}\n'})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Refer to ",(0,o.jsx)(n.a,{href:"https://github.com/epam/ai-dial-core?tab=readme-ov-file#dynamic-settings",children:"DIAL Core Dynamic Settings"})," to view the description of all the supported configuration parameters."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>i});var o=s(67294);const t={},r=o.createContext(t);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);