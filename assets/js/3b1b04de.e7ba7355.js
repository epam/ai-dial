"use strict";(self.webpackChunkdial=self.webpackChunkdial||[]).push([[6500],{3318:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var n=o(5893),t=o(1151);const r={},a="Roles and Access Control for API Keys",c={id:"tutorials/devops/auth-and-access-control/api-key-roles",title:"Roles and Access Control for API Keys",description:"API keys can be used not only for authentication, but also to manage access to system resources and apply restrictions on such access.",source:"@site/docs/tutorials/2.devops/2.auth-and-access-control/1.api-key-roles.md",sourceDirName:"tutorials/2.devops/2.auth-and-access-control",slug:"/tutorials/devops/auth-and-access-control/api-key-roles",permalink:"/tutorials/devops/auth-and-access-control/api-key-roles",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"CustomSideBar",previous:{title:"Programmatic Auth",permalink:"/tutorials/devops/auth-and-access-control/programmatic-auth"},next:{title:"Roles and Access Control for JWT",permalink:"/tutorials/devops/auth-and-access-control/chat-users-roles"}},i={},l=[];function d(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"roles-and-access-control-for-api-keys",children:"Roles and Access Control for API Keys"}),"\n",(0,n.jsxs)(s.p,{children:["API keys can be used not only for ",(0,n.jsx)(s.a,{href:"/platform/core/auth-intro",children:"authentication"}),", but also to manage access to system resources and apply restrictions on such access."]}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:["Refer to ",(0,n.jsx)(s.a,{href:"/platform/core/access-control-intro",children:"Platform"})," to learn more about API Keys."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["This is done via assigning of ",(0,n.jsx)(s.strong,{children:"roles"})," to API keys. Roles must be associated with specific system resources such as models and applications."]}),"\n",(0,n.jsx)(s.p,{children:"To create and configure access control for API keys:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"/tutorials/devops/auth-and-access-control/programmatic-auth#step-1-define-api-keys",children:"Create API Key"})}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"/tutorials/devops/auth-and-access-control/programmatic-auth#step-2-assign-roles",children:"Assign role(s)"})}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"Add restrictions:"}),"\n",(0,n.jsxs)(s.p,{children:["Roles used by API keys must be declared in the ",(0,n.jsx)(s.code,{children:"roles"})," section. In the following example, we assign the ",(0,n.jsx)(s.code,{children:"basic"})," role for ",(0,n.jsx)(s.code,{children:"projectKey1"})," API key. It grants access to the ",(0,n.jsx)(s.code,{children:"chat-gpt-35-turbo"})," model with some restrictions:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-Json",children:'//Example extract from aidial.config.json\n"keys": {\n    "proxyKey1": { //API key\n        "project": "Project1",\n        "role": "basic" // the name of the role\n    }\n},\n"roles": {\n    "basic": { // the name of the role\n        "limits": {\n            "chat-gpt-35-turbo": {\n            "minute": "100000", //number of tokens per minute\n            "day": "10000000", //number of tokens per day\n            "week": "10000000", //number of tokens per week\n            "month": "10000000", //number of tokens per month\n            }\n        }\n    }\n}\n'})}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:["In ",(0,n.jsx)(s.a,{href:"https://github.com/epam/ai-dial-core?tab=readme-ov-file#dynamic-settings",children:"settings"}),", you can get familiar with the description of the configuration parameters. Refer to ",(0,n.jsx)(s.a,{href:"https://github.com/epam/ai-dial-core/blob/development/sample/aidial.config.json",children:"configuration file"})," to view the full example."]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1151:(e,s,o)=>{o.d(s,{Z:()=>c,a:()=>a});var n=o(7294);const t={},r=n.createContext(t);function a(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);