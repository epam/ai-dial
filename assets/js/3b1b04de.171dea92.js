"use strict";(self.webpackChunkdial=self.webpackChunkdial||[]).push([[6500],{3318:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var t=n(85893),o=n(11151);const r={},i="Roles and Access Control for API Keys",a={id:"tutorials/devops/auth-and-access-control/api-key-roles",title:"Roles and Access Control for API Keys",description:"Introduction",source:"@site/docs/tutorials/2.devops/2.auth-and-access-control/1.api-key-roles.md",sourceDirName:"tutorials/2.devops/2.auth-and-access-control",slug:"/tutorials/devops/auth-and-access-control/api-key-roles",permalink:"/tutorials/devops/auth-and-access-control/api-key-roles",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"CustomSideBar",previous:{title:"Programmatic Auth",permalink:"/tutorials/devops/auth-and-access-control/programmatic-auth"},next:{title:"Roles and Access Control for JWT",permalink:"/tutorials/devops/auth-and-access-control/chat-users-roles"}},c={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Step 1: Create API Key",id:"step-1-create-api-key",level:2},{value:"Step 2: Assign Roles (Required)",id:"step-2-assign-roles-required",level:2},{value:"Step 3: Configure Access and Restrictions",id:"step-3-configure-access-and-restrictions",level:2}];function d(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"roles-and-access-control-for-api-keys",children:"Roles and Access Control for API Keys"}),"\n",(0,t.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(s.p,{children:["API keys can be used not only for ",(0,t.jsx)(s.a,{href:"/platform/core/auth-intro",children:"authentication"}),", but also to manage access to system resources and apply restrictions on such access. This is done via assigning of ",(0,t.jsx)(s.strong,{children:"roles"})," to API keys. Roles must be associated with specific system resources such as models and applications."]}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["Refer to ",(0,t.jsx)(s.a,{href:"/platform/core/access-control-intro#api-keys",children:"API Keys"})," to learn more."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"step-1-create-api-key",children:"Step 1: Create API Key"}),"\n",(0,t.jsxs)(s.p,{children:["You can define API keys in ",(0,t.jsx)(s.a,{href:"https://github.com/epam/ai-dial-core?tab=readme-ov-file#dynamic-settings",children:"DIAL Core dynamic settings"})," in the ",(0,t.jsx)(s.code,{children:"keys"})," section."]}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["Refer to ",(0,t.jsx)(s.a,{href:"/tutorials/devops/auth-and-access-control/programmatic-auth#step-1-define-api-keys",children:"Create API Key"})," to see details."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"step-2-assign-roles-required",children:"Step 2: Assign Roles (Required)"}),"\n",(0,t.jsxs)(s.p,{children:["You can define roles in ",(0,t.jsx)(s.a,{href:"https://github.com/epam/ai-dial-core?tab=readme-ov-file#dynamic-settings",children:"DIAL Core dynamic settings"})," in the ",(0,t.jsx)(s.code,{children:"roles"})," section."]}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["Refer to ",(0,t.jsx)(s.a,{href:"/tutorials/devops/auth-and-access-control/programmatic-auth#step-2-assign-roles-required",children:"Assign role(s)"})," to see details."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"step-3-configure-access-and-restrictions",children:"Step 3: Configure Access and Restrictions"}),"\n",(0,t.jsxs)(s.p,{children:["In the ",(0,t.jsx)(s.code,{children:"roles"})," section of the DIAL Core dynamic settings, you can also include optional sharing and token usage limits for roles."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Note"}),": If limits are not configured the ",(0,t.jsx)(s.strong,{children:"access is unlimited"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["In the following example, we define the ",(0,t.jsx)(s.code,{children:"basic"})," role with limits for the ",(0,t.jsx)(s.code,{children:"chat-gpt-35-turbo"})," model and sharing limits for applications and files."]}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["Refer to ",(0,t.jsx)(s.a,{href:"https://github.com/epam/ai-dial-core?tab=readme-ov-file#dynamic-settings",children:"dynamic settings"})," to see other configuration options for roles."]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'//Example extract from aidial.config.json\n"keys": {\n    "proxyKey1": { //API key\n        "project": "Project1",\n        "role": "basic" // the name of the role\n    }\n},\n"roles": {\n    "basic": { // the name of the role\n        "limits": {\n            "chat-gpt-35-turbo": {\n            "minute": "100000", //number of tokens per minute\n            "day": "10000000", //number of tokens per day\n            "week": "10000000", //number of tokens per week\n            "month": "10000000", //number of tokens per month\n            },\n        "share": {\n            "APPLICATION": {\n                "invitation_ttl": "24",\n                "max_accepted_users": "10"\n                },\n            "FILE": {\n                "invitation_ttl": "24",\n                "max_accepted_users": "10"\n                }\n            }\n        }\n    }\n}\n'})})]})}function h(e={}){const{wrapper:s}={...(0,o.a)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},11151:(e,s,n)=>{n.d(s,{Z:()=>a,a:()=>i});var t=n(67294);const o={},r=t.createContext(o);function i(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);