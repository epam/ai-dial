<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Deployment/OpenAI Model Deployment" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">OpenAI Model Deployment | DIAL Knowledge Base</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.epam-rail.com/Deployment/OpenAI Model Deployment"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="AI DIAL, RAG, GenAI, AI platform, EPAM DIAL"><meta data-rh="true" name="summary" content="AI DIAL is a secure, enterprise-grade and open-source platform. It has an API-first, cloud and model-agnostic design that makes it suitable for a wide variety of use cases. "><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OpenAI Model Deployment | DIAL Knowledge Base"><meta data-rh="true" name="description" content="From this instruction, you will learn how to create an Azure OpenAI model GPT-3.5-turbo/GPT-4 and use it in AI DIAL config."><meta data-rh="true" property="og:description" content="From this instruction, you will learn how to create an Azure OpenAI model GPT-3.5-turbo/GPT-4 and use it in AI DIAL config."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.epam-rail.com/Deployment/OpenAI Model Deployment"><link data-rh="true" rel="alternate" href="https://docs.epam-rail.com/Deployment/OpenAI Model Deployment" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.epam-rail.com/Deployment/OpenAI Model Deployment" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8ZBWD7ULLD-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GVY5VWYV1E"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GVY5VWYV1E",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="DIAL Knowledge Base" href="/opensearch.xml">

<script src="https://cookie-cdn.cookiepro.com/consent/3a34bbfa-93e4-4ba6-9383-7da88d67ed18/OtAutoBlock.js"></script>
<script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="3a34bbfa-93e4-4ba6-9383-7da88d67ed18"></script>
<script src="src/scripts/optanonWrapper.js"></script><link rel="stylesheet" href="/assets/css/styles.198f8f3e.css">
<script src="/assets/js/runtime~main.d00caa97.js" defer="defer"></script>
<script src="/assets/js/main.442635c1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/dialx-logo.svg" alt="EPAM DIAL" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/dialx-logo.svg" alt="EPAM DIAL" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/search?q=org%3Aepam++DIAL&amp;type=repositories" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.gg/hgqEAbEwZ9" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.youtube.com/@TeamDialX" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/supported-models">Supported Models</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/tutorials/quick-start-with-application">Tutorials</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/user-guide">Chat User Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chat-design">AI DIAL Chat Design Structure Guidelines</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://github.com/epam/ai-dial-helm/tree/main/charts/dial/examples/generic/simple" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true">Deployment</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://github.com/epam/ai-dial-helm/tree/main/charts/dial/examples/generic/simple" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Helm Deployment<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Deployment/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Deployment/idp-configuration/auth0">IDP Configuration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Deployment/OpenAI Model Deployment">OpenAI Model Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Deployment/Vertex Model Deployment">Vertex Model Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Deployment/Bedrock Model Deployment">Bedrock Model Deployment</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Cookbook/dial-cookbook/examples/how_to_call_text_to_text_applications">Cookbook</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://epam-rail.com/dial_api" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">API Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/video demos/demos/dial-chathub">Video Demos</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deployment</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">OpenAI Model Deployment</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>OpenAI Model Deployment</h1>
<p>From this instruction, you will learn how to create an Azure OpenAI model GPT-3.5-turbo/GPT-4 and use it in AI DIAL config.</p>
<div class="docusaurus-ignore"><h1>Table of Contents</h1><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#step-1-configuring-the-ai-model">Step 1: Configuring the AI Model</a>
<ul>
<li><a href="#request-access-to-models">Request Access to Models</a></li>
<li><a href="#create-a-model-deployment">Create a Model Deployment</a></li>
</ul>
</li>
<li><a href="#step-2-get-access-to-ai-model">Step 2: Get Access to AI Model</a>
<ul>
<li><a href="#configure-azure-openai-model-and-get-api-key">Configure Azure OpenAI Model and Get API Key</a></li>
<li><a href="#configure-kubernetes-service-account">Configure Kubernetes Service Account</a></li>
</ul>
</li>
<li><a href="#step-3-add-model-to-ai-dial">Step 3: Add Model to AI DIAL</a>
<ul>
<li><a href="#add-model-to-ai-dial-core-config">Add Model to AI DIAL Core Config</a></li>
<li><a href="#configure-ai-dial-adapter">Configure AI DIAL Adapter</a>
<ul>
<li><a href="#use-adapter-with-azure-openai-api-key">Use Adapter with Azure OpenAI API Key</a></li>
<li><a href="#use-kubernetes-service-account-assigned-to-azure-user-assigned-managed-identity">Use Kubernetes Service Account Assigned to Azure user-assigned Managed Identity</a></li>
</ul>
</li>
</ul>
</li>
</ul></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>Active Azure account</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-configuring-the-ai-model">Step 1: Configuring the AI Model<a href="#step-1-configuring-the-ai-model" class="hash-link" aria-label="Direct link to Step 1: Configuring the AI Model" title="Direct link to Step 1: Configuring the AI Model">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-access-to-models">Request Access to Models<a href="#request-access-to-models" class="hash-link" aria-label="Direct link to Request Access to Models" title="Direct link to Request Access to Models">​</a></h3>
<ol>
<li>Login to the MS Azure portal (<a href="https://portal.azure.com/" target="_blank" rel="noopener noreferrer">https://portal.azure.com/</a>) with your credentials. Create an account if you do not have one.</li>
<li>Navigate to Azure OpenAI and click <strong>Create</strong>.</li>
<li>Follow <a href="https://customervoice.microsoft.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR7en2Ais5pxKtso_Pz4b1_xUNTZBNzRKNlVQSFhZMU9aV09EVzYxWFdORCQlQCN0PWcu" target="_blank" rel="noopener noreferrer">this link</a> in the notification message to request access.</li>
</ol>
<p><img loading="lazy" src="/assets/images/step5-d7bbb290c06c5dcd7539c0ce15e3de5d.jpg" width="773" height="296" class="img_ev3q"></p>
<blockquote>
<p><strong>Important</strong>: you can proceed with model creation only upon receiving the confirmation email.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-model-deployment">Create a Model Deployment<a href="#create-a-model-deployment" class="hash-link" aria-label="Direct link to Create a Model Deployment" title="Direct link to Create a Model Deployment">​</a></h3>
<ol>
<li>
<p>Use the search bar to look up <strong>Azure OpenAI</strong> and click it to navigate to the <strong>Azure AI Services|Azure OpenAI</strong> page.</p>
<p><img loading="lazy" src="/assets/images/step2-e83a4f275333f4b35994e49b503388a5.jpg" width="1392" height="404" class="img_ev3q"></p>
</li>
<li>
<p>You can now find your OpenAI model in the <strong>Azure AI services</strong> section. Click it to open and then click <strong>Go to Azure OpenAI Studio</strong> in the top bar.</p>
<p><img loading="lazy" src="/assets/images/step8-ceeb082b7c380cbaaa31dadc2b70db95.jpg" width="594" height="211" class="img_ev3q"></p>
</li>
<li>
<p>In Azure OpenAI Studio, click <strong>Deployment</strong> in the navigation menu and click <strong>Create new deployment</strong>. Fill in the required fields and click <strong>Create</strong> to create a model.</p>
<p><img loading="lazy" src="/assets/images/step9-7be1fbb3bc3da4a5381d72e900d20d8d.jpg" width="880" height="445" class="img_ev3q"></p>
<blockquote>
<p>It is important to note that certain models may not be accessible for deployment in a particular region. If you need a particular model, you will have to submit a separate request or relocate Azure OpenAI to a different region.</p>
</blockquote>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-get-access-to-ai-model">Step 2: Get Access to AI Model<a href="#step-2-get-access-to-ai-model" class="hash-link" aria-label="Direct link to Step 2: Get Access to AI Model" title="Direct link to Step 2: Get Access to AI Model">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-azure-openai-model-and-get-api-key">Configure Azure OpenAI Model and Get API Key<a href="#configure-azure-openai-model-and-get-api-key" class="hash-link" aria-label="Direct link to Configure Azure OpenAI Model and Get API Key" title="Direct link to Configure Azure OpenAI Model and Get API Key">​</a></h4>
<ol>
<li>
<p>Go back to your model page and click <strong>Keys and Endpoint</strong>. In this section, you can find your key and endpoint that you will need to provide in AI DIAL configuration file.</p>
<p><img loading="lazy" src="/assets/images/step13-8f076c41b399277b7c01f06f423867c3.jpg" width="994" height="592" class="img_ev3q"></p>
</li>
<li>
<p>You can restrict access to your accounts based on a specific subset of networks by configuring network rules, only applications that access data through the designated set of networks are permitted to access the account. You can manage default network access rules for Azure AI services resources in <strong>Resource Management/Networking</strong>.</p>
<blockquote>
<p>Refer to <a href="https://learn.microsoft.com/en-us/azure/ai-services/cognitive-services-virtual-networks?context=%2Fazure%2Fcognitive-services%2Fopenai%2Fcontext%2Fcontext&amp;tabs=portal#manage-default-network-access-rules" target="_blank" rel="noopener noreferrer">Microsoft Documentation</a> to learn more.
Refer to <a href="https://learn.microsoft.com/en-us/legal/cognitive-services/openai/data-privacy" target="_blank" rel="noopener noreferrer">Microsoft Data Privacy Policy</a> to learn how data provided by you to the Azure OpenAI service is processed, used, and stored.</p>
</blockquote>
<p><img loading="lazy" src="/assets/images/whitelisting-e4d14b12d9feaf40e2b21d654cbaa232.png" width="1251" height="382" class="img_ev3q"></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-kubernetes-service-account">Configure Kubernetes Service Account<a href="#configure-kubernetes-service-account" class="hash-link" aria-label="Direct link to Configure Kubernetes Service Account" title="Direct link to Configure Kubernetes Service Account">​</a></h4>
<p>In case your cluster is located at Azure, the best practise for using Azure OpenAI is to assign an Azure user-assigned managed identity to Kubernetes Service Account. You can do this using Microsoft Entra Workload ID with Azure Kubernetes Service.</p>
<blockquote>
<p>Refer to <a href="https://learn.microsoft.com/en-us/azure/aks/workload-identity-overview" target="_blank" rel="noopener noreferrer">Azure Documentation</a> to learn how to configure Microsoft Entra Workload ID with Azure Kubernetes Service.</p>
</blockquote>
<blockquote>
<p>Refer to <a href="https://learn.microsoft.com/en-us/azure/aks/open-ai-secure-access-quickstart" target="_blank" rel="noopener noreferrer">Azure Documentation</a> to learn how to configure a secure access to Azure OpenAI from Azure Kubernetes Service.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-add-model-to-ai-dial">Step 3: Add Model to AI DIAL<a href="#step-3-add-model-to-ai-dial" class="hash-link" aria-label="Direct link to Step 3: Add Model to AI DIAL" title="Direct link to Step 3: Add Model to AI DIAL">​</a></h2>
<p>To deploy a model to AI DIAL, it is necessary to add it to config and configure an adapter for it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-model-to-ai-dial-core-config">Add Model to AI DIAL Core Config<a href="#add-model-to-ai-dial-core-config" class="hash-link" aria-label="Direct link to Add Model to AI DIAL Core Config" title="Direct link to Add Model to AI DIAL Core Config">​</a></h3>
<p>Add your model with its parameters in the <code>models</code> section.</p>
<blockquote>
<p>Refer to <a href="https://github.com/epam/ai-dial-core/blob/development/sample/aidial.config.json#L30" target="_blank" rel="noopener noreferrer">AI DIAL Core Configuration</a> to view an example.</p>
</blockquote>
<blockquote>
<p>Refer to <a href="/Deployment/configuration#core-parameters">Configure core config</a> to view the configuration of AI DIAL core parameters in the helm-based installation.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-ai-dial-adapter">Configure AI DIAL Adapter<a href="#configure-ai-dial-adapter" class="hash-link" aria-label="Direct link to Configure AI DIAL Adapter" title="Direct link to Configure AI DIAL Adapter">​</a></h3>
<p>To work with models, we use applications called Adapters. You can configure OpenAI Adapter via <a href="https://github.com/epam/ai-dial-adapter-openai#environment-variables" target="_blank" rel="noopener noreferrer">environment variables</a>.</p>
<blockquote>
<p>Refer to <a href="https://github.com/epam/ai-dial-adapter-openai" target="_blank" rel="noopener noreferrer">Adapter for OpenAI</a> to view documentation for a OpenAI AI DIAL Adapter.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="use-adapter-with-azure-openai-api-key">Use Adapter with Azure OpenAI API Key<a href="#use-adapter-with-azure-openai-api-key" class="hash-link" aria-label="Direct link to Use Adapter with Azure OpenAI API Key" title="Direct link to Use Adapter with Azure OpenAI API Key">​</a></h4>
<p>In this scenario, it&#x27;s enough to enable the adapter. Azure Open AI keys are located in the configuration file of AI DIAL Core. Any other configuration of the adapter is not required.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">openai</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="use-kubernetes-service-account-assigned-to-azure-user-assigned-managed-identity">Use Kubernetes Service Account Assigned to Azure user-assigned Managed Identity<a href="#use-kubernetes-service-account-assigned-to-azure-user-assigned-managed-identity" class="hash-link" aria-label="Direct link to Use Kubernetes Service Account Assigned to Azure user-assigned Managed Identity" title="Direct link to Use Kubernetes Service Account Assigned to Azure user-assigned Managed Identity">​</a></h4>
<blockquote>
<p>Before taking this step, configure <a href="#configure-kubernetes-service-account">Microsoft Entra Workload ID with Azure Kubernetes Service</a>.</p>
</blockquote>
<p>In this scenario, the adapter uses Azure user-assigned managed identity. In such a configuration, there&#x27;s no need to setting the Azure OpenAI API key in the AI DIAL Core configuration file. Authentication takes place on the adapter level.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">openai</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">podLabels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">azure.workload.identity/use</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">serviceAccount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">create</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">annotations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">azure.workload.identity/client-id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;client-id&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Deployment/idp-configuration/okta"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">okta</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Deployment/Vertex Model Deployment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Vertex Model Deployment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#step-1-configuring-the-ai-model" class="table-of-contents__link toc-highlight">Step 1: Configuring the AI Model</a><ul><li><a href="#request-access-to-models" class="table-of-contents__link toc-highlight">Request Access to Models</a></li><li><a href="#create-a-model-deployment" class="table-of-contents__link toc-highlight">Create a Model Deployment</a></li></ul></li><li><a href="#step-2-get-access-to-ai-model" class="table-of-contents__link toc-highlight">Step 2: Get Access to AI Model</a><ul><li><a href="#configure-azure-openai-model-and-get-api-key" class="table-of-contents__link toc-highlight">Configure Azure OpenAI Model and Get API Key</a></li><li><a href="#configure-kubernetes-service-account" class="table-of-contents__link toc-highlight">Configure Kubernetes Service Account</a></li></ul></li><li><a href="#step-3-add-model-to-ai-dial" class="table-of-contents__link toc-highlight">Step 3: Add Model to AI DIAL</a><ul><li><a href="#add-model-to-ai-dial-core-config" class="table-of-contents__link toc-highlight">Add Model to AI DIAL Core Config</a></li><li><a href="#configure-ai-dial-adapter" class="table-of-contents__link toc-highlight">Configure AI DIAL Adapter</a><ul><li><a href="#use-adapter-with-azure-openai-api-key" class="table-of-contents__link toc-highlight">Use Adapter with Azure OpenAI API Key</a></li><li><a href="#use-kubernetes-service-account-assigned-to-azure-user-assigned-managed-identity" class="table-of-contents__link toc-highlight">Use Kubernetes Service Account Assigned to Azure user-assigned Managed Identity</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 EPAM Systems, Inc. All Rights Reserved</div></div></div></footer></div>
</body>
</html>